DROP TABLE IF EXISTS ModeleAutobusow;
CREATE TABLE ModeleAutobusow (
    model VARCHAR(40) PRIMARY KEY,
    producent VARCHAR(40) NOT NULL,
    dlugosc INT,
    szerokosc INT,
    wysokosc INT,
    masaWlasna INT,
    miejsca INT,
    miejscaSiedzace INT,
    producentSilnika VARCHAR(40),
    pojemnoscSilnika INT,
    mocSilnikaKM INT,
    typNapedu VARCHAR(20)
);

DROP TABLE IF EXISTS Autobusy;
CREATE TABLE Autobusy(
    numer VARCHAR(10) PRIMARY KEY,
    model VARCHAR(40) REFERENCES ModeleAutobusow(model),
    zajezdnia VARCHAR(50) REFERENCES Zajezdnie(nazwa), --mozna przypisac zajezdni tramwajowej autobus i na odwrot, troche smrod
    stan stanPojazdu NOT NULL

);

DROP TABLE IF EXISTS ModeleTramwajow;
CREATE TABLE ModeleTramwajow (
    model VARCHAR(40) PRIMARY KEY,
    producent VARCHAR(40) NOT NULL,
    dlugosc INT,
    szerokosc INT,
    wysokosc INT,
    rozstawOsiMotorowy INT,
    rozstawOsiToczny INT,
    masaWlasna INT,
    miejsca INT,
    miejscaSiedzace INT,
    niskopodlogowyProcent INT,
    mocKM INT
);

DROP TABLE IF EXISTS Tramwaje;
CREATE TABLE Tramwaje(
    numer VARCHAR(10) PRIMARY KEY,
    model VARCHAR(40) REFERENCES ModeleTramwajow(model),
    zajezdnia VARCHAR(50) REFERENCES Zajezdnie(nazwa),
    stan stanPojazdu NOT NULL
);

DROP TABLE IF EXISTS Przystanki;
CREATE TABLE Przystanki(
    nazwa VARCHAR(50) PRIMARY KEY,
    autobusowy BOOLEAN NOT NULL,
    tramwajowy BOOLEAN NOT NULL, --czy moze byc przystanek ani nie tramwajowy anie nie autobusowy?
    podwojny BOOLEAN  NOT NULL
    --czy dajemy kolumne czy czynny, czy po prostu nie przypisujemy mu zadnej lini jak jest nieczynny?
);

DROP TABLE IF EXISTS Zajezdnie;
CREATE TABLE Zajezdnie(
    nazwa VARCHAR(50) PRIMARY KEY,
    adres VARCHAR(50) NOT NULL,
    autobusowa BOOLEAN NOT NULL,
    tramwajowa BOOLEAN NOT NULL, --czy moze byc zajezdnia nie tramwajowa i nie autobusowa? Jak nie to trzeba by zrobic enuma
    czynna BOOLEAN NOT NULL --czy ten bool powinien byc enumem 'tak'/'nie' czy nie ma sensu
);

CREATE TYPE stanPojazdu AS ENUM ('dziala', 'zepsuty', 'serwisowany' , 'wycofany');

DROP TABLE IF EXISTS Linie;
CREATE TABLE Linie(
    numer INT,--co ma byc kluczem glownym? Czy moga byc 2 linie o tym samym numerze
    poczatek VARCHAR(50),
    koniec VARCHAR(50)
);

DROP TABLE IF EXISTS Kursy;
CREATE TABLE Kursy(
    numer INT PRIMARY KEY,
    pojazd VARCHAR(10) REFERENCES , --co?
    linia INT REFERENCES Linie,
    kierowca VARCHAR REFERENCES Kierowcy,
    godzinaOdjazdu TIME
);

--dodawanie wartosci

INSERT INTO ModeleAutobusow(model, producent, dlugosc, szerokosc, wysokosc, masaWlasna, miejsca,miejscaSiedzace,
                            producentSilnika, pojemnoscSilnika, mocSilnikaKM, typNapedu)
VALUES
    ('Citaro Solo', 'Mercedes', 11950, 2550, 3076, 10860, 95, 25, 'Mercedes', 7201, 286, 'spalinowy'),
    ('Citaro', 'Mercedes', 17940, 2550, 3076, 16625, 165, 34, 'Mercedes', 11967, 354, 'spalinowy'),
    ('Urbino 18', 'Solaris', 18000, 2550, 2850, 17500, 174, 41, 'DAF', 9186 , 315, 'spalinowy'),
    ('Sancity', 'Autosan', 8550, 2420, 2630, 7200, 60, 15, 'Cummins', 4462, 205, 'spalinowy'),
    ('Urbino 12', 'Solaris', 12000, 2550,2850, 10800, 102, 29, 'DAF', 9186, 256, 'spalinowy'),
    ('Urbino 12.9 Hybrid', 'Solaris', 12900, 2550, 3100, 12100, 86, 36, 'Cummins', 6693, 338, 'hybrydowy'),
    ('Urbino 18 Hybrid', 'Solaris', 18000, 2550, 3300, 17850, 142, 43, 'Cummins', 6693,406, 'hybrydowy'),
    ('7900A Hybrid', 'Volvo', 18135, 2550, 3280, 18267, 136, 43, 'Volvo', 5132, 380, 'hybrydowy'),
    ('Urbino 18 Electric', 'Solaris', 18000, 2550, 3250, NULL, 135, 47, 'ZF', NULL, 326, 'elektryczny'),
    ('Urbino 12 Electric', 'Solaris', 12000, 2550, 3300, NULL, 99, 39, 'ZF', NULL, 340, 'elektryczny');


